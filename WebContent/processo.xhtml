<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:body>
	<h:form>
		<h:messages/>
		<h1>Novo Processo</h1>
		<fieldset>
			<legend>Processo</legend>
				<h:panelGrid columns="2">
					<h:outputLabel value="Número Processo" for="nmprocesso"/>
					<h:inputText id="nmprocesso" value="#{processoBean.processo.numProcesso}" required="true" 
					requiredMessage="O Número do Processo é Obrigatório" validatorMessage="O campo permite somente 10 caracteres">
						<f:validateLength maximum="10"/>
					</h:inputText>
					<h:outputLabel value="Número OPS" for="ops"/>
					<h:inputText id="ops" value="#{processoBean.processo.numOps}" required="true" requiredMessage="Número da OPS é obrigatório"/>
					<h:outputLabel value="Número Carta Contrato" for="cartacontrato"/>
					<h:inputText id="cartacontrato" value="#{processoBean.processo.numCartaContrato}" required="true" requiredMessage="Número da Carta Contrato é obrigatório"/>
				</h:panelGrid>
		</fieldset>
		<fieldset>
			<legend>Responsável</legend>
				<h:panelGrid columns="2">
					<h:outputLabel value="Selecione o Responsável" for="responsavel"/>
					<h:selectOneMenu value="#{processoBean.responsavelId}" id="responsavel">
						<f:selectItems value="#{processoBean.responsaveis}" var="responsavel"
							itemLabel="#{responsavel.nome}" itemValue="#{responsavel.id}"/>
					</h:selectOneMenu>
					<h:commandButton value="Gravar Responsável" action="#{processoBean.gravarResponsavel}"/>
				</h:panelGrid>
		</fieldset>
		<h:commandButton value="Gravar" action="#{processoBean.gravar}"/>		
	</h:form>
</h:body>	
</html>